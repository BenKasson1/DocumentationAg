---
layout: post
title: PDR
date: 2016-11-14 12:43:44 +0000
permalink: /PDR/
---

**Carson! This document will need EXTENSIVE edits to be markdown presentable.**


Agricultural Multi-Sensor Nodal Network with Mesh Network Wireless Communication Topology


Client: T. Anthony Choi


PDR Document 


Presented by: 
Daniel Mackowski
Faisal Al-dhorgham
Pierre Balinda 


November 14th, 2016













Executive summary 				Daniel
Ideally, farmers would survey the health of their crops adequately for a low price. However, current satellite surveying methods widely used by farmers is very expensive. To provide a more cost efficient option, Dr. Anthony Choi of the Mercer University School of Engineering (MUSE) has contacted a team of MUSE students to design multi-sensor platform that will collect data on soil humidity levels, pH levels, and temperature. The platforms will send this information through a mesh network to the user who will in turn make informed decisions to cut farm maintenance costs. The MUSE student engineering team is composed of Pierre Balinda, a Computer Engineer, Faisal Al-dhorgham, and Daniel Mackowski, both Electrical Engineers.
The scope of the project was restricted to a proof of concept stage in light of the complexity of design, time limit, and not having a Mechanical Engineer on the team. Focus was given to determining the best alternatives for a low-power microcontroller, wireless communication protocol, soil attribute sensors, user interface for data analysis and presentation, and adequate disposable, per-node power supply. The alternatives that met the feasibility criteria and proved to be the most meritorious alternative were the STM32 L4 microcontroller, ZigBee wireless communication protocol, Arduino’s Soil Moisture Sensor Hygrometer, SparkFun Electronics’ DS18B20 Waterproof Temperature Sensor, Luster Leaf’s Digital Soil pH Meter, a web interface and 4 disposable AA alkaline batteries for a per-node power supply.
Based on the research on the alternatives, the total cost of the project is expected to be $350. The school of engineering will cover $300 of this budget. The client is willing to cover any remainder beyond the limit presented by the school of engineering. The team plans to perform tests to determine sensor reading accuracy, proper transmission of the data through the ZigBee wireless transmission protocol, and proper analysis and display of the data at the user interface. If the client, manager, and technical advisors find these decisions acceptable, the team would like to ask permission to move forward with the CDR phase of the project.
Table of Contents 				Pierre (G Docs has a way of doing this automatically with a few setup steps)
List of illustrations				Faisal 
List of Tables 					Daniel
Symbol List						Pierre
Glossary 						Faisal
µC: Microcontroller
Pi: Raspberry Pi 3 Model B
Mega: Arduino Mega
OS: Operating System
OQPSK: Offset quadrature phase shift keying ( type of modulation)


Introduction					Daniel
Ideally, as the world population continues to grow past 7.4 billion, farmers all over the world would be able to keep up with the demand for more quality food at affordable prices. However, with the demand steadily increasing, farmers are turning to engineers and scientists for new methods and technologies capable of reducing costs and optimizing crop yield. One of the methods farmers are looking to use to increase the affordability and availability of their produce is by employing technology to ensure soil conditions are optimized for their crops in near real time. Dr. Anthony Choi of the Mercer University School of Engineering (MUSE) has contacted the MUSE student engineering team composed of Pierre Balinda, a Computer Engineer, Faisal Al-dhorgham, and Daniel Mackowski, both Electrical Engineers, to design a solution to this problem. The team has designed a proof of concept agricultural multi-sensor platform network to survey and present collected data to farmers to advise them on how to optimize their land for maximum yield at minimum cost.
Project description
This project requires the design and construction of a mesh network of low power, environmental sensor nodes and a software system to analyze and present the data collected from the sensors. The sensors will be selected according to the client’s specifications to measure the required soil attributes of pH level, moisture level, and temperature at three equally separated depths. The nodes will be two foot long, stationary columns driven into the ground with the microcontroller and wireless communicator as the only above ground components. The nodes will have housing to protect the circuitry of the sensors, microcontroller, wireless communicator, and power supply from damage. The nodes will be battery powered and will communicate information wirelessly from node to node to transmit soil attribute packets back to a computer that will run the analysis software. The soil attribute packets will contain the location, depth, and, time of the reading along with the environmental data from each node. The software will collect these packets to construct graphical views of the data. This will provide the end user with a clear understanding of the data to expedite decision making for maintenance of networked regions.
Feasibility and merit criteria, specs
The team and the client discussed the scope of the project and realized the need of a mechanical engineer as well. The client decided that a proof of concept design would be sufficient for the time allowed. In light of this, more focus was given to the electrical and computer components of the project over the mechanical component. Design decisions for this stage of the project were focused on which microcontroller, wireless communication protocol, sensors, user interface, and power supply would be used. The sections to follow will cover the criteria used to determine feasibility and merit criteria for these components.
Microcontroller
Feasibility Criteria
The following criteria are factors which must be satisfied by the chosen processor:
Consumption is less than 500 µA/MHz
Has sleep mode functionality
Merit Criteria
Active mode current consumption per 1 million clock cycles (1MHz)
Sleep mode current consumption (nA)
Clock cycles per second (MHz)
Support and community: publicly available tutorials, support sites, blogs, and troubleshooting sites. 
Wireless communication protocol
Feasibility Criteria
The following criteria are factors which must be satisfied by the chosen communication protocol:
10 meters minimum range of transmission and reception
Transmit and receive wirelessly
Operate on a low power mode
Communicate using mesh network topology
Merit Criteria
Range 
Data rate 
Cost per unit 
Self-healing network
Maximum node connection
Battery life in days
Universal Frequency Band 
Sensors
Feasibility Criteria
The following criteria are factors which must be satisfied by the chosen sensors:
Function in soil for a season and that is 6 months 
Cost less than $15 per unit
Interface with chosen microcontroller
Analog output (soil moisture sensor)
Waterproof (soil temperature sensor)
Merit Criteria
The feasible sensor alternatives were judged against a simple set of merit criteria. The cheaper the sensor, the better it would be. The soil temperature sensor preferred range was -15℃  to +45℃ (-5℉ to +113℉). The more of that range the sensor was designed to output, the greater its merit would be.
User interface
Feasibility Criteria
The following criteria are factors which must be satisfied by the chosen user interface:
Expertise: team possesses skill set to properly develop the interface, and 
Portability: the interface can be accessed by all popular OSs. 
Merit Criteria
The merit criteria established by the team were portability and ease of use. The portability criterion refers to the number of devices/operating systems that would support the interface. The ease of use criterion which refers to the accessibility to the interface as well as its navigation.
Power supply
Feasibility Criteria
The following criteria are factors which must be satisfied by the chosen user interface:
Must be primary battery source (disposable) 
Must last at least one season, which is defined to be six months 
Must supply voltage of 5 volts or less 
Merit Criteria
	The power source specification was to provide a battery source that lasts for a season. In light of this constraint, reverse engineering was used to determine the most suitable type of primary battery available that would supply adequate power for one season after calculating the current consumption rate of the whole system.
Design alternatives
The sections to follow will cover the design alternatives for microcontroller, wireless communication protocol, sensors, and user interface.
Microcontroller
Six microcontrollers were considered by the team for the feasibility analysis. The Mega, Pi, Ambiq Micro, STM32 L4, EFM32, and Atmel were considered as shown in table 1. The active mode consumption feature refers to the current (µA) required to go through 1 million clock cycles (1MHz). The sleep mode consumption refers to the current required to keep the µM on without executing any other instructions. The processor feature refers to the architecture used by the µM. Last but not least, Wi-Fi and Bluetooth features refer to the transmission protocols embedded in the µM.
Table 1: Microcontroller features
Feature/µC
Mega [0]
Pi [1]
Ambiq Micro[2]   
STM32 L4[3]
EFM32 [4]
Atmel [5]
Active mode consumption (µA/MHz)
500 
400 x103 (constant)
35
100
219 
35 
Sleep mode consumption (nA)
N/A
N/A
143
120nA
1.1x106
900
Processor
 ATmega1280(16MHz)
 ARM Cortex-A53(1.2GHz)
32-bit ARM Cortex-M4F (24MHz)
32-bit ARM Cortex-M4 (80MHz)
32-bit ARM Cortex-M3 (48MHz)
32-bit ARM Cortex-M3 (48MHz)
Wi-Fi 
No
Yes
No
No
No
No
Bluetooth
No
Yes
No
No
No
No


Wireless communication protocol 
Several protocols currently exist for wireless network communication, including ZigBee, WiFi, and Bluetooth. The IEEE 802.15.4 standard for low data rate wireless personal area networks , which will be used in this project, was completed in 2003 and was most recently updated in 2015#6.  
The ZigBee protocol of wireless communication is a fairly new standard for wireless sensor and control network applications. The ZigBee protocol was designed to use a radio frequency and consume very little power, allowing it to operate for months or even years without replacing its battery #7. It has a low data rate maximum of 250 kbps#8, which makes it the most fit choice for sensor, monitor, and control type applications #9. The Zigbee protocol also supports up to 65 thousand nodes that can be connected in a mesh network which a feature to have since our project will serve big farms and ranches. ZigBee has also a maximum range of up to 75 meters #10. 
In addition, ZigBee can automatically establish its network which makes convenient to operate as it uses small packets #11. Zigbee is using offset quadrature phase shift keying (OQPSK) type of modulation which is good because one of the main advantages of this modulation is to double the data rate while maintaining the same bandwidth as it can encode two bits per symbol compared to other modulation #12. Using this modulation, the receiver does not need to know the reference signal to reconstruct the data but only compares two signals#12.  ZigBee only takes about a millisecond to transmit and receive data, which makes it a great low power communication alternative#13. 
Wi-Fi, an abbreviated term that stands for wireless fidelity, is usually used for applications that use computer to computer communication, which is a good substitution for cabled network as it operates using radio waves to provide network connectivity#14. It is also great choice when browsing the internet at broadband speeds#14. One of the main advantage is that it has a high data rate, which translates to consume more power #15. Also, Wi-Fi needs some routers when using it to transmit data, which would suppress the idea of mesh network #16.
Bluetooth low energy is another good transmission choice that can work on a very low power to extend the battery life#17. But, Bluetooth is not design for mesh network applications #18. It is designed as master-slave method of transmission where the main source can connect up to 8 cell nodes, but the cell nodes themselves cannot connect to each other#18. Researchers such as the Bluetooth Special Interest Group have been working to add mesh network feature to the Bluetooth specification to provide the capability in bluetooth certified devices to be added to a mesh network #19.
Sensors
Three options were selected as potential soil moisture sensors for this project. The “Arduino Soil Moisture Sensor Hygrometer” (Part number: FC-28-D) comes in two pieces as an IC and a sensor. It has an operating voltage of 3.3 or 5 VDC, an output voltage of 0 ~ 4.2VDC, an Immersion Gold finish for corrosion protection, dimensions of 60x20x5mm and 90x58x8mm for it’s IC and sensor, respectively, and weighs 11 g [20]. SparkFun Electronics’ “Soil Moisture Sensor” (Part number: SEN-13322) comes as one piece. It has an operating voltage of 5 VDC, an Electronless Nickel Immersion Gold finish for corrosion protection, and a 3 pin interface [21]. DFRobot’s “Capacitive Soil Moisture Sensor” (Part number: SEN0193) comes as one piece. It has an operating voltage of 3.3 ~ 5.5 VDC, an output voltage of 0 ~ 3.0VDC, a corrosion resistant coating, a Gravity PH2.0-3 pin interface, circuit board area of 98x23mm, and weighs 15 g [22].
Two options were selected as as potential soil temperature sensors for this project. Sparkfun Electronics’ “DS18B20 Waterproof Temperature Sensor” (Part number: SEN-11050) uses a DS18B20 digital thermometer is accurate to ±0.5 ℃  in the -10 ℃ - +85 ℃ range[23]. Tempsensing.com’s “1-Wire Temperature Sensor with 1.2 inch Stainless Steel Probe” (Part number: 1WT_6SSP_1_30cm_2w) uses a DS18B20 digital thermometer and is designed to operate in the -40 ℃ - +105 ℃ range[24].
Two options were selected as as potential soil pH sensors for this project. DFRobot’s “pH Meter” (Part number: SEN0161) comes as two pieces as an IC and a sensor probe. It has an operating voltage of 5 VDC, an output voltage of 0 - 14 pH with an accuracy of ±0.1 pH at 25 ℃, an Immersion Gold finish for corrosion protection, circuit board area of 43x32mm, and a BNC sensor-IC interface and a Gravity PH2.0-3 pin IC-µC interface [25].It is designed for use liquid solutions. Luster Leaf’s “Digital Soil pH Meter” is designed for testing soil pH, though little else is known about it’s specs as it was designed as a standalone pH tester[26]. 
User interface
The team selected three different user interfaces for this project. These interfaces will give the end user a visual representation of all the data collected. The team considered an Android app, iOS app, and Web interface. 
Evaluation, selection, and criteria
The sections to follow will cover the feasibility and merit analysis for the following components: microcontroller, wireless communication protocol, sensors, and user interface.
Microcontroller
As per the client’s specifications, a typical sensors node should operate on one battery charge that is the farmer does not need to replace the battery. To comply with this specification, the team set 500uA/MHz as a power consumption threshold. The microcontroller should also have a sleep-mode for a longer battery life. A microcontroller’s sleep-mode is a timed state in which all processes are shut off except for the timer that will “wake-up” the microcontroller once the sleep time has elapsed. Sleep-mode will significantly reduce the microcontroller’s power consumption.


As Table 2 shows the Arduino Mega and Raspberry Pi did not pass the power consumption criteria. 






Table 2: Microcontroller feasibility analysis
Feature/µC
Arduino Mega [0]
Pi [1]
Ambiq Micro [2]
STM32 L4 [3]
EFM32 [4]
Atmel [5]
Consumption (less than 500 µA/MHz)
No
No
Yes
Yes
Yes
Yes
Sleep Mode
No
No
Yes
Yes
Yes
Yes


Although the Pi was not selected for to be the node’s microcontroller, it was selected to be the central station’s microcontroller for its remarkable features. The Pi boast specs that are comparable to those of a computer, it has its own OS, a 1.2 GHz 64-bit quad-core ARM CPU, 1GB RAM, Wi-Fi (802.11n), Ethernet (802.3), Bluetooth 4.1, and Bluetooth LTE to name a few. It only needs a keyboard, mouse, power supply, and display. 


Wireless communication protocol
Feasibility and merit analysis were conducted to choose the best option for the project. After considering the main objectives that have to be met when transmitting and receiving data, the team finds Zigbee option is the most fit choice for the project.
   
 Table 3 Feasibility analysis for communication protocols


Design alternatives
Zigbee
Wi-Fi
Bluetooth
10 meter min range 
Meets #10
Meets #27
Meets #18
Low power
Meets #8
Meets #14
Meets #17
Wireless 
Meets #6
Meets #14
Meets #18
Mesh network 
Meets  #10
Meets #16
Fails #18








Table 4 Merit analysis for communication protocols


Design alternatives
Zigbee
Wi-Fi
Range 
up to 75m #10
30-100m #27
Data rate
250 kbps #8
> 54Mbps
Cost per unit
$ 11.00 #28
$ 10.50 #30
Self-healing network
Available #28
Not applicable #16
Maximum node connection
65k cell nodes #10
2007 cell nodes #10
Battery life (days)
100-7000 #7
0.1-5 #7
Universal Frequency Band
2.4 GHz  #29
2.4 GHz #29


Sensors
The “Arduino Soil Moisture Sensor Hygrometer,” Sparkfun Electronics’ “Soil Moisture Sensor,” and DFRobot’s “Capacitive Soil Moisture Sensor” were checked against the feasibility and merit criteria to determine which potential soil moisture sensor would be selected for this project. Each of them met the feasibility criteria for microcontroller interface capability, costing less than $15, in-soil operability, and analog output capability. The “Arduino Soil Moisture Sensor Hygrometer” was selected as the best alternative for a soil moisture sensor, as it had the cheapest price. The prices were $2.75[30], $4.95[31], and $7.90[32], respectively.
Sparkfun Electronics’ “DS18B20 Waterproof Temperature Sensor” and Tempsensing.com’s “1-Wire Temperature Sensor with 1.2 inch Stainless Steel Probe” were checked against the feasibility and merit criteria to determine which potential soil temperature sensor would be selected for this project. They both met the general feasibility criteria for microcontroller interface capability, costing less than $15, and in-soil operability. The main difference between the two was the housing for the temperature sensor and the ranges they were designed to measure: the former specifically stated to be waterproof and to output on a -10 ℃ - +85 ℃ range at a cost of $9.95 [23]; the later stainless steel and to output on a -40 ℃ - +105 ℃ range at a cost of $11 [24]. Sparkfun Electronics’ “DS18B20 Waterproof Temperature Sensor” was selected as the best alternative due to being $1.05 cheaper than the later and being explicitly waterproof in spite of the fact that it did not contain the entire low end of the desired temperature range. The -15 ℃ on the low end of the desired range was just for a margin in case soil temperatures actually get that low when the sensor is in use. The -10 ℃ (14 ℉) temperature for the low end of the selected alternative is acceptable for soil temperature measuring in agricultural environments.
DFRobot’s “pH Meter” and Luster Leaf’s “Digital Soil pH Meter” were checked against the feasibility and merit criteria to determine which potential soil pH sensor would be selected for this project. The former was priced at $29.50 and was not designed for use in soil, though it was designed to interface with a microcontroller [33]. The later was priced at $10.99 and was designed specifically to be used in soil, but was designed as a general consumer product[26]. Despite the fact that both alternatives failed at least one feasibility criterion (microcontroller interface capability, costing less than $15, and in-soil operability), the Luster Leaf’s “Digital Soil pH Meter” was selected as the best alternative for a soil pH sensor because it was the alternative that met the most feasibility criteria. Though the chosen alternative was not designed to interface with an external microcontroller, the sensor’s circuitry can be taken out of its housing for analysis and modification to allow it to interface with a microcontroller as the project requires.
User interface
The team selected three different user interface alternatives for this project. These interfaces will give the end user a visual representation of all the data collected. The team considered an Android app, iOS app, and Web interface. The Android and iOS apps are only compatible with their respective OS, unlike the Web which can be accessed by both OSs as well as Windows and Linux OSs. As for the expertise, Daniel and Pierre have developed Android apps in the past, Pierre has some experience with web applications, and none the team members had experience with iOS apps. As for the ease of use, the team determined that all three interfaces would be easy to use for anyone who is computer literate. The Web interface was chosen as the desired alternative because it was the most portable and had the greatest ease of use.
Design work accomplished 
After the proposal was accepted by the client to start working on the project, the team had a meeting with the client to discuss the requirements, specifications, and funds of the project. The team then conducted an intensive research for each aspect of the project. The team did feasibility and merit analysis for each aspect to determine the best components. The team had five main aspects of the project that are determining the best type of sensors, microcontroller, communication protocol, primary battery source, and user interface. After enormous amount of research, the team was led to determine the best components for each aspect. 


Afterward, the team conducted different type of research, at this point, to ascertain that all the chosen components from each aspect are compatible to one another using each component datasheet as it is an important point to make the whole design functional. The team then was led to determine how the whole separated components can be integrated to work as a whole system. Afterward, the team set some appropriate testing plans to check for the functionality as it is very significant to make the project successful, as well as the performance of the whole design. The scope of the project is to make sure all aspects of the project is functional except for the battery source. For the battery source, it is not only required to be functional but also have the expected performance which is at least six continuous months. 


Figure 10 below is a representative visualization of the whole design when it is implemented on the farm. The furthest node will have all the sensors at different level and be two feet into the soil. Then, the sensors will be connected to the microcontroller with ZigBee transceiver. After that, the microcontroller will command the transmitter chip ZigBee to send the sensor data to the second node that is 10 to 40 meters away. The second node will only have the microcontroller and ZigBee acting as a mediator to get the data to the third node. The third node then sends the data to the central station after receiving it from the second node as it can be visualized in figure 10 below. 


Ideally, each node would have the same type of sensors at the same different level as the total number of nodes would be all over the farm to obtain measurements for all spots of the farm. However, the scope of this project is defined as a proof of concept and the team is merely attempts to prove the functionality of each claimed component feature. Once the functionality of the project is approved, the team can strive to turn this project into a product if the client desires thus. 

Figure 
The team recommends to test the final integrated system under different condition of the atmospheric environment. For example, when testing the design under heavy rain, the signal will be highly attenuated as the rain has a great effect on the wireless transmitted signal. Needless to mention, the performance will be greatly affected if it is not a normal day or has special condition.   


Engineering design & analysis
Power supply
The table below indicates the current consumption for each component as well as the approximated total current consumptions. The table only represents the first node where all the sensors will be placed. The two other nodes will consume greatly less power as they will only have the microcontroller and transceiver ZigBee. Thus, if the chosen battery can supply sufficient power to the first node, it will certainly supply enough power to the second and third nodes. After tabulated all the essential information below, the team researched a primary battery type to supply adequate power for all the components for at least one season, which was defined to be six months assuming each month has thirty days.  
Table 5


Current (mA)
Time (ms)
Total current (mAh) 
Active
Sleep
Active
Sleep
Moisture Sensor (x3)
60
0.03
1
3599999
0.03001665833
Temperature Sensor (x3) #30
4.5
0.003
10
3599990
0.003012491667
pH Sensor (x3)
15
0.03
1
3599999
0.03000415833
STM32 L4 Microcontroller [3]
0.1
0.00012
15
3599985
0.0001204161667
ZigBee Chip #13
23
0.002
1
3599999
0.002006388333
Node Total


0.06516011283


Step 1: X=(IA*tA+IS*(3600000ms-tA))mA*ms(this is cycling through active and sleep states once every hour assuming tA+(3600000ms-tA)=1h)
Step 2: Y=(X*1s1000ms*1h3600s)mAh(this is the total charge(?) that is being used every hour, but it’s now cycling between active and sleep states once every hour assuming tA+(3600000ms-tA)=1h) 
       
        Table 6 Title #31
Battery Type
Capacity (mAh)
Typical Drain (mA)
D
13000
200
C
6000
100
AA
2400
50
AAA
1000
10
N
650
10
9 Volt
500
15
6 Volt Lantern
11000
300


Based the information in Table _ and Table _, 4 AA alkaline batteries were selected as a source of power for each node. The team believes that the battery will supply enough power for the whole system for approximately two years. The team came to this conclusion based upon the below equation. 
Estimated hours = ( battery capacity(mAh)device consumption (mA)) * 0.7= (  2400 (mAh)0.1 (mA))*0.7= 16800 hours which is more than 6 months. #32
Performance prediction:
The team is theoretically confident that the whole integrated design system will be predictably functional as well as have the expected performance according to the conducted research and calculation. For example, the external battery source is sufficient to supply power to the whole system for almost two years according to the calculation done by the team as the team only expect the power source to operate for only six months. The team deliberately chose the power source to adequately supply power for more than a year although the specification says only six months in order to count for any external and unexpected losses. All components have a good review rate by other purchasers, which increases the confidence of the team. The team believes that the functionality and the performance of the integrated design will run smoothly and efficiently. The team will be practically certain and confident in the design after conducting some experimental tests during the CDR phase next semester as the team is confident in theories behind it.   
Project schedule				Pierre
Budget				
The tabulated data below in the table indicate how many units the team needs for each component, price per unit, as well as the total price of all components needed to build the project. The team has been informed by the client that there is external funds available in addition to the $300 dollars given by the school of engineering.
Component
Unit(s)
Seller
Unit Cost
Total Cost
Arduino Soil Moisture Sensor Hygrometer #20
3
Resistor Park
$2.75
$8.25
DS18B20 Waterproof Temperature Sensor #23
3
Robotshop
$9.95
$29.85
Luster Leaf Digital Soil pH Meter #26
3
jet.com
$10.99
$32.97
STM32 L4 microcontroller [3]
4
Digi-Key
$14.90
$59.60
ZigBee chip #28
4
Digi-Key
$11.00
$44.00
Wire (x6, 25 ft spools, 22 gauge) #34
1
Amazon
$20.00
$20.00
Platform core #35
3
Amazon
$20.00
$60.00
Raspberry Pi 3 Model B [2]
1
Amazon
$36.90
$36.90
AA alkaline battery 48 pack #36
1
Amazon
$11.87
$11.87
Breadboard #37
4
Amazon 
$4.96
$19.84
Sub total 
$323.28
Miscellaneous 


$26.72
Total 
$350.00


Proposed tests			
After designing and developing the node network prototype, the team will proceed with testing all its functionalities. The functionalities that will be tested are sensor readings accuracy, proper transmission of the data, and proper analysis and display of the data to the user interface.
To carry out the above tests, the team will setup the node network as well as the central station at a site provided by the client that mimics the characteristics of a farm. To check for the sensor reading accuracy, the team will sample soil data with our node and compare it against the readings made by commercially available pH, soil moisture, and temperature sensors.
After this initial test, the team will proceed to create environments similar to the ones at the farms by adding a lot of water (to simulate rain), ice to simulate snow, and dryness to simulate the summer heat. The entire system (sensor readings accuracy, transmission of the data, and display of the data to the user interface) will be tested in these environments to ensure proper functionality in different weather conditions and seasons. The team will also test the actual maximum range between nodes to give a well detailed user guide to the client.
Conclusion and Recommendation 
After thorough research on components of the system as well as feasibility and merit evaluation, the team recommends the uses of the following components for individual nodes. An STM32 L4 as the microcontroller, the luster leaf as the pH sensor, the DS18B20 as the temperature sensor, the Arduino hygrometer as the soil moisture, the ZigBee communication protocol as the transmitter and receiver, and three AA alkaline batteries. As for the user interface and central station, the team recommends a Web interface and a Pi, respectively. The estimated budget for this system is $350 which will be provided by the MUSE and our client, Dr. Choi. With the information provided, the team would like to ask permission to move forward with the CDR phase of the project.




References		Everyone
Bibliography




Appendices and Annexes 		Everyone
Pseudo-code				Pierre
Node
array dataArray;       	//array variable that will store all the data
While(1)      	//Endless loop to run the node
{                            	
                    	wakeup();    	//wakes up the µC
        	//receiving and storing the data in dataArray
turnOnZigBeeReceiver();
        	dataArray = receivedData;
        	turnOffZigBeeReceiver();
        	        	//collecting data from the sensors and stores it in dataArray
                    turnOnAllSensors();
                    dataArray += collectedData;
		turnOnZigBeeTransmitter();
                    sendData();  	//sends data to the next node
		turnOffZigBeeTransmitter();
                    dataArray.clear(); //clears the array for the next cycle
                    sleep(3600)  	//sleep for 1h, the passed parameter is in seconds
}
Central station
While(1)      	//endless loop
{
                    	//receiving data
turnOnZigBeeReceiver();
        	dataArray = receivedData;
        	turnOffZigBeeReceiver();
        	//analyzing and providing graphical representations
        	runPythonLibrary();
sleep(3600);             	//sleep for 1h, the passed parameter is in seconds
}


To do
Talk about pseudo code	Pierre
Predicted performance 	Faisal








Assembly Design:
After purchasing all the required components for the project, the team will first attach the sensors to the first node that will go two feet into the farm soil. Three different type of sensors will be attached at the first level and replicate it for the second and third levels. All the nine sensors will be connected to the battery and microcontroller by wire. On the surface, there will be the microcontroller, zigbee transceiver, and the primary battery source. In addition to connecting all the sensors to the power source, the zigbee transceiver and microcontroller will be connected altogether to the power source. The team may use a breadboard to make the connection easier as needed. The second and third nodes will only have a zigbee and a microcontroller to receive and transmit data from the first to the third node which will send it to the central station. All the components will be wired to the microcontroller which will transmit and receive the data wirelessly via the zigbee chip.


